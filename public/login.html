<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  

  <meta name="description" content="Log in to Dashmon to monitor your infrastructure in real time. Use Google sign-in or your Dashmon credentials to access your dashboard." />
  <link rel="canonical" href="https://dashmon.online/login.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Login - Dashmon" />
  <meta property="og:description" content="Log in to Dashmon to monitor your infrastructure in real time. Use Google sign-in or your Dashmon credentials to access your dashboard." />
  <meta property="og:url" content="https://dashmon.online/login.html" />
  <meta property="og:image" content="https://dashmon.online/og-image.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Login - Dashmon" />
  <meta name="twitter:description" content="Log in to Dashmon to monitor your infrastructure in real time. Use Google sign-in or your Dashmon credentials to access your dashboard." />
  <meta name="twitter:image" content="https://dashmon.online/og-image.png" />

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Dashmon",
    "url": "https://dashmon.online/login.html",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>
<title>Login - Dashmon</title>
  <link rel="icon" type="image/svg+xml" href="icon.svg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    * { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    body { background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%); min-height: 100vh; }
    .glass { background: rgba(30, 41, 59, 0.72); backdrop-filter: blur(18px); border: 1px solid rgba(255,255,255,0.10); }
    .input { background: rgba(15, 23, 42, 0.45); border: 1px solid rgba(148, 163, 184, 0.25); }
    .input:focus { outline: none; border-color: rgba(59,130,246,0.8); box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
  </style>
</head>
<body class="text-white">
  <div class="min-h-screen flex items-center justify-center px-4 py-10">
    <div class="w-full max-w-md glass rounded-2xl p-8 shadow-2xl">
      <div class="text-center mb-6">
        <div class="flex items-center justify-center gap-3 mb-2">
          <img src="icon.svg" alt="Dashmon" class="w-10 h-10">
          <h1 class="text-2xl font-bold">Dashmon</h1>
        </div>
        <p class="text-slate-300 text-sm">Monitor your internet-facing devices and get alerted when something goes down.</p>
      </div>

      <!-- Google -->
      <a href="/auth/google"
         class="w-full flex items-center justify-center gap-3 px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 transition font-semibold">
        <i class="fab fa-google"></i>
        Continue with Google
      </a>

      <!-- Pricing / Plans -->
      <div class="mt-4 text-center text-sm text-slate-300">
        <a href="/index.html#pricing" class="text-blue-300 hover:text-blue-200 underline underline-offset-4">
          View plans & pricing
        </a>
        <span class="text-slate-500">•</span>
        <a href="/index.html" class="text-slate-300 hover:text-white underline underline-offset-4">
          Learn more
        </a>
      </div>

      <div class="relative my-6">
        <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-700"></div></div>
        <div class="relative flex justify-center"><span class="bg-slate-900/60 px-3 text-xs text-slate-400 rounded-full">or</span></div>
      </div>

      <!-- Local Login -->
      <div id="loginPanel">
        <h2 class="text-lg font-semibold mb-4 text-center">Sign in with Email / User ID</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Email or User ID</label>
            <input id="localIdentifier" type="text" class="w-full px-4 py-3 rounded-xl input text-white" placeholder="you@company.com or your-id">
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Password</label>
            <input id="localPassword" type="password" class="w-full px-4 py-3 rounded-xl input text-white" placeholder="••••••••">
          </div>

          <div id="loginError" class="hidden text-sm text-red-400 text-center"></div>

          <button id="localLoginBtn"
                  class="w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-500 transition font-semibold">
            Sign in
          </button>

          <div class="text-center text-sm text-slate-400">
            No account?
            <a href="#" id="showSignup" class="text-blue-400 hover:text-blue-300">Create one</a>
          </div>
        </div>
      </div>

      <!-- Signup -->
      <div id="signupPanel" class="hidden">
        <h2 class="text-lg font-semibold mb-4 text-center">Create an account</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Email</label>
            <input id="signupEmail" type="email" class="w-full px-4 py-3 rounded-xl input text-white" placeholder="you@company.com">
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">User ID (optional)</label>
            <input id="signupUsername" type="text" class="w-full px-4 py-3 rounded-xl input text-white" placeholder="e.g. hossein">
            <p class="text-xs text-slate-400 mt-1">If you set a User ID, you can log in using it instead of email.</p>
          </div>

          <div>
            <label class="block text-sm font-medium text-slate-300 mb-2">Password</label>
            <input id="signupPassword" type="password" class="w-full px-4 py-3 rounded-xl input text-white" placeholder="Min 8 characters">
          </div>

          <div id="signupError" class="hidden text-sm text-red-400 text-center"></div>

          <button id="signupBtn"
                  class="w-full py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 transition font-semibold">
            Create account
          </button>

          <div class="text-center text-sm text-slate-400">
            Already have an account?
            <a href="#" id="showLogin" class="text-blue-400 hover:text-blue-300">Sign in</a>
          </div>
        </div>
      </div>

      <p class="mt-6 text-center text-xs text-slate-500">
        By signing in you agree to basic monitoring terms. Google login is still supported.
      </p>
    </div>
  </div>

<script>
(function(){
  const $ = (id) => document.getElementById(id);
  const show = (el) => el && el.classList.remove('hidden');
  const hide = (el) => el && el.classList.add('hidden');
  const setText = (el, t) => { if (el) el.textContent = t; };

  function setBusy(btn, busy){
    if (!btn) return;
    btn.disabled = busy;
    btn.style.opacity = busy ? '0.7' : '1';
    btn.style.cursor = busy ? 'not-allowed' : 'pointer';
  }

  async function postJSON(url, body){
    const res = await fetch(url, {
      method: 'POST',
      credentials: 'include',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body || {})
    });
    const data = await res.json().catch(()=> ({}));
    if (!res.ok) throw new Error(data.error || ('Request failed (' + res.status + ')'));
    return data;
  }

  const loginPanel = $('loginPanel');
  const signupPanel = $('signupPanel');

  $('showSignup')?.addEventListener('click', (e) => {
    e.preventDefault();
    hide(loginPanel); show(signupPanel);
    hide($('loginError')); hide($('signupError'));
  });

  $('showLogin')?.addEventListener('click', (e) => {
    e.preventDefault();
    show(loginPanel); hide(signupPanel);
    hide($('loginError')); hide($('signupError'));
  });

  $('localLoginBtn')?.addEventListener('click', async (e) => {
    e.preventDefault();
    hide($('loginError'));
    const btn = $('localLoginBtn');
    setBusy(btn, true);
    try{
      const identifier = String($('localIdentifier')?.value || '').trim();
      const password = String($('localPassword')?.value || '');
      await postJSON('/auth/local/login', { identifier, password });
      window.location.href = '/app/';
    }catch(err){
      setText($('loginError'), err.message || String(err));
      show($('loginError'));
    }finally{
      setBusy(btn, false);
    }
  });

  $('signupBtn')?.addEventListener('click', async (e) => {
    e.preventDefault();
    hide($('signupError'));
    const btn = $('signupBtn');
    setBusy(btn, true);
    try{
      const email = String($('signupEmail')?.value || '').trim();
      const username = String($('signupUsername')?.value || '').trim();
      const password = String($('signupPassword')?.value || '');
      await postJSON('/auth/local/signup', { email, username, password });
      window.location.href = '/app/';
    }catch(err){
      setText($('signupError'), err.message || String(err));
      show($('signupError'));
    }finally{
      setBusy(btn, false);
    }
  });
})();
</script>

  <footer class="mt-14 border-t border-gray-200/10 pt-6 text-sm text-gray-400">
    <div class="flex flex-wrap items-center justify-center gap-5">
      <a class="hover:text-white transition-colors" href="/about.html">About</a>
      <a class="hover:text-white transition-colors" href="/terms.html">Terms</a>
      <a class="hover:text-white transition-colors" href="/privacy.html">Privacy</a>
    </div>
    <div class="mt-3 text-center">© <span id="copyrightYear"></span> Dashmon. All rights reserved.</div>
  </footer>

  <script>
    document.getElementById('copyrightYear').textContent = new Date().getFullYear();
  </script>

</body>
</html>
